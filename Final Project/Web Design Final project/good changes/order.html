<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flavorful - Order</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style id="FLAVORFUL_GLOBAL_STYLE">
    /* GLOBAL RESET */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', sans-serif;
        background-color: #fff;
        color: #111;
        line-height: 1.6;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }
    
    /* HEADER & NAVIGATION STYLES (Standardized) */
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 60px;
        background: #fff;
        border-bottom: 1px solid #eee;
        position: sticky;
        top: 0;
        z-index: 1000;
        flex-wrap: wrap; 
    }

    header h1 .logo {
        font-size: 24px;
        font-weight: 700;
        text-decoration: none;
        color: #111;
    }

    .main-nav a {
        margin: 0 10px;
        text-decoration: none;
        color: #333;
        font-weight: 500;
        padding: 5px;
        transition: color 0.2s;
    }

    .main-nav a:hover {
        color: #f59e0b; /* Using a warm color for hover */
    }
    
    .account-links {
        display: flex;
        align-items: center;
    }

    .account-links a {
        text-decoration: none;
        padding: 8px 15px;
        border-radius: 4px;
        font-weight: 700;
        margin-left: 15px;
        transition: background-color 0.2s, color 0.2s;
    }
    
    .signup-link {
        color: #f59e0b;
        border: 1px solid #f59e0b;
    }
    .signup-link:hover {
        background-color: #f59e0b;
        color: white;
    }
    
    .login-link {
        color: white;
        background-color: #111;
    }
    .login-link:hover {
        background-color: #333;
    }

    .profile-icon {
        display: flex;
        align-items: center;
        margin-left: 15px;
    }

    .profile-btn {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #f59e0b;
        color: #fff;
        text-decoration: none;
        font-weight: 700;
    }

    .hidden { display: none !important; }

/* ---------------- LAYOUT ---------------- */
.content-container {
    display: grid;
    grid-template-columns: 250px 1fr 300px;
    gap: 20px; padding: 20px; max-width: 1400px; margin: auto;
}

.left-sidebar, .right-sidebar {
    background: #fff; padding: 20px; border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}
.search-box { display: flex; border: 1px solid #ddd; border-radius: 5px; overflow: hidden; margin-bottom: 30px; }
.search-box input { flex: 1; padding: 10px; border: none; outline: none; }
.icon-search { padding: 10px; background: #f5f5f5; }

/* Side Menu */
.side-menu h3 { font-size: 16px; color: #888; margin-bottom: 10px; }
.side-menu ul { list-style: none; }
.side-menu li {
    padding: 10px 0; cursor: pointer; display: flex; align-items: center;
}
.side-menu li:hover { background: #f9f9f9; }
.side-menu li.active {
    background: #ffedcc; color: #f59e0b; font-weight: bold; border-right: 3px solid #f59e0b;
}

/* ---------------- PRODUCTS ---------------- */
.product-grid {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;
}
.product-card {
    background: #fff; border-radius: 8px; overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05); text-align: center;
}
.product-card:hover { transform: translateY(-5px); }
.product-card img { width: 100%; height: 150px; object-fit: cover; }
.price-add { display: flex; justify-content: space-between; padding: 10px 15px; }

/* ---------------- ORDER SIDEBAR ---------------- */
.order-item { display: flex; justify-content: space-between; margin-bottom: 8px; }
.order-title { text-align: center; margin-bottom: 20px; font-size: 20px; font-weight: 700; }
.total-price { color: #f59e0b; font-weight: 700; }
.confirm-order-btn {
    width: 100%; padding: 15px; background: #f59e0b; border: none; color: #fff;
    font-size: 16px; border-radius: 8px; cursor: pointer;
}
.confirm-order-btn:hover { background: #e6a100; }

/* ---------- SUCCESS POPUP ---------- */
.popup {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #30c030;
    color: white;
    padding: 15px 25px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    font-weight: 600;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
    z-index: 2000;
}
.popup.show {
    opacity: 1;
}

        footer {
        text-align: center;
        padding: 20px;
        background: #fff;
        border-top: 1px solid #eee;
        font-size: 14px;
        color: #777;
        margin-top: auto; 
    }
</style>
</head>
<body>

<!-- ================== HEADER ================== -->
<header>
    <h1><a href="index.html" class="logo">Flavorful</a></h1>
    <nav class="main-nav">
        <a href="index.html">Home</a>
        <a href="workers.html">Workers</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
        <a href="prices.html">Prices</a>
        <a href="socials.html">Socials</a>
        <a href="buy-now.html">Buy Now</a>
    </nav>

    <div class="account-links">
        <a href="sign-up.html" class="signup-link">Sign Up</a>
        <a href="login.html" class="login-link">Login</a>

        <div class="profile-icon hidden">
            <a href="balance.html" class="profile-btn"><span id="profile-initials">US</span></a>
            <button id="logout-btn" style="margin-left: 10px; background:#f59e0b; color:#fff; padding:6px 12px; border-radius:4px; border:none;">Logout</button>
        </div>
    </div>
</header>

<!-- ================== MAIN CONTENT ================== -->
<main class="content-container">

    <!-- LEFT SIDEBAR -->
    <aside class="left-sidebar">
        <div class="search-box">
            <input id="searchInput" type="text" placeholder="Search Flavors">
            <span class="icon-search">üîç</span>
        </div>

        <nav class="side-menu">
            <h3>FLAVORS</h3>
            <ul id="flavorList">
                <li data-name="Pineapple">üçç Pineapple</li>
                <li data-name="Strawberry">üçì Strawberry</li>
                <li data-name="Grape">üçá Grape</li>
                <li data-name="Cherry">üçí Cherry</li>
                <li data-name="Orange">üçä Orange</li>
                <li data-name="Watermelon">üçâ Watermelon</li>
                <li data-name="Mango">ü•≠ Mango</li>
                <li data-name="Lemon">üçã Lemon</li>
                <li data-name="Coconut">ü•• Coconut</li>
                <li data-name="Cola">ü•§ Cola</li>
                <li data-name="Blue Raspberry">üîµ Blue Raspberry</li>
            </ul>
        </nav>
    </aside>

    <!-- PRODUCT GRID -->
    <section class="main-content">
        <div class="product-grid" id="productGrid"></div>
    </section>

    <!-- RIGHT SIDEBAR -->
    <aside class="right-sidebar">
        <h2 class="order-title">MY ORDER</h2>

        <div id="orderItems"></div>

        <label style="display:flex; align-items:center; margin-top:15px;">
            <input type="checkbox" id="deliveryCheck"> Delivery (+$2.00)
        </label>

        <h3 style="margin-top:20px; display:flex; justify-content:space-between;">
            TOTAL: <span class="total-price" id="totalAmount">$0.00</span>
        </h3>

        <p style="font-size:12px; text-align:right;">VAT Included</p>

        <button class="confirm-order-btn" onclick="showOrderPopup()">Confirm Order</button>
    </aside>
</main>

<!-- ================== SUCCESS POPUP ================== -->
<div id="orderPopup" class="popup hidden">
    <p>‚úÖ Order Sent Successfully!</p>
</div>

  <footer>
    &copy; 2025 Flavorful. | All rights reserved.
  </footer>
  

<!-- ================== JAVASCRIPT ================== -->
<script>
/* ---------------- PRODUCTS DATA ---------------- */
const products = [
    { name: "Pineapple", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Pineapple" },
    { name: "Strawberry", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Strawberry" },
    { name: "Grape", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Grape" },
    { name: "Cherry", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Cherry" },
    { name: "Orange", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Orange" },
    { name: "Watermelon", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Watermelon" },
    { name: "Mango", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Mango" },
    { name: "Lemon", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Lemon" },
    { name: "Coconut", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Coconut" },
    { name: "Cola", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=Cola" },
    { name: "Blue Raspberry", price: 0.50, img: "https://placehold.co/300x150/f59e0b/fff?text=BlueRaspberry" },

    { name: "Small Packet", price: 5.00, img: "https://placehold.co/300x150/f59e0b/fff?text=Small+Packet" },
    { name: "Large Packet", price: 10.00, img: "https://placehold.co/300x150/f59e0b/fff?text=Large+Packet" }
];

/* ---------------- DYNAMIC PRODUCT RENDER ---------------- */
function loadProducts() {
    const grid = document.getElementById("productGrid");
    grid.innerHTML = "";

    products.forEach(p => {
        grid.innerHTML += `
            <div class="product-card" data-name="${p.name}">
                <img src="${p.img}">
                <h4>${p.name}</h4>
                <p>${p.name} Pennacool</p>
                <div class="price-add">
                    <span>$${p.price.toFixed(2)}</span>
                    <button class="add-btn" onclick="addToCart('${p.name}', ${p.price})">+</button>
                </div>
            </div>
        `;
    });
}
loadProducts();

/* ---------------- CART SYSTEM ---------------- */
let cart = {};

function addToCart(name, price) {
    if (!cart[name]) cart[name] = { qty: 0, price };
    cart[name].qty++;
    updateCartUI();
}

function updateCartUI() {
    const container = document.getElementById("orderItems");
    container.innerHTML = "";

    let total = 0;

    Object.keys(cart).forEach(item => {
        const line = cart[item].qty * cart[item].price;
        total += line;

        container.innerHTML += `
            <div class="order-item">
                <p>${cart[item].qty} √ó ${item}</p>
                <p>$${line.toFixed(2)}</p>
            </div>
        `;
    });

    if (document.getElementById("deliveryCheck").checked) {
        total += 2;
    }

    document.getElementById("totalAmount").textContent = "$" + total.toFixed(2);
}

/* Delivery checkbox event */
document.getElementById("deliveryCheck").addEventListener("change", updateCartUI);

/* ---------------- SEARCH FUNCTION ---------------- */
document.getElementById("searchInput").addEventListener("keyup", () => {
    const searchText = document.getElementById("searchInput").value.toLowerCase();

    // Filter side menu
    document.querySelectorAll("#flavorList li").forEach(li => {
        li.style.display = li.dataset.name.toLowerCase().includes(searchText) ? "block" : "none";
    });

    // Filter products
    document.querySelectorAll(".product-card").forEach(card => {
        const name = card.dataset.name.toLowerCase();
        card.style.display = name.includes(searchText) ? "block" : "none";
    });
});

/* ---------------- SUCCESS POPUP FUNCTION ---------------- */
function showOrderPopup() {
    const popup = document.getElementById("orderPopup");
    popup.classList.add("show");

    setTimeout(() => {
        popup.classList.remove("show");
    }, 2500);
}

/* ---------------- NAVBAR LOGIN SYSTEM ---------------- */
function getAuthUser() {
    const user = sessionStorage.getItem("authUser");
    return user ? JSON.parse(user) : null;
}

function updateNavbar() {
    const user = getAuthUser();
    const signup = document.querySelector(".signup-link");
    const login = document.querySelector(".login-link");
    const profile = document.querySelector(".profile-icon");

    if (user) {
        signup.classList.add("hidden");
        login.classList.add("hidden");
        profile.classList.remove("hidden");
        document.getElementById("profile-initials").textContent = user.initials;
    }
}

document.getElementById("logout-btn").addEventListener("click", () => {
    sessionStorage.removeItem("authUser");
    location.href = "index.html";
});

updateNavbar();
</script>

</body>
</html>
