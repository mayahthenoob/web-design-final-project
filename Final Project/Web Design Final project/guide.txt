# Flavorful Website - Quick Start Guide

## ‚ö° 5-Minute Setup

### Step 1: Create Database
```bash
# Open MySQL and run:
mysql -u root -p < database_schema.sql
```

### Step 2: Update Credentials
Edit this in **all PHP files** (find and replace):
```php
// Change these:
$host = 'localhost';       // Your host
$db = 'flavorful';         // Your database name
$user = 'root';            // Your MySQL user
$password = '';            // Your MySQL password
```

### Step 3: Upload to Server
- FTP/Upload all `.php` files
- Keep folder structure same
- Set folder permissions to 755

### Step 4: Test
- Visit: `http://yoursite.com/index.php`
- Register: `http://yoursite.com/register.php`
- Login: `http://yoursite.com/login.php`
- Shop: `http://yoursite.com/buy-now.php`

---

## üéØ Page Quick Reference

| Page | URL | Purpose | Auth Required | DB Access |
|------|-----|---------|---------------|-----------|
| Home | `index.php` | Landing page | No | No |
| Register | `register.php` | Create account | No | WRITE |
| Login | `login.php` | Sign in | No | READ |
| About | `about.php` | Company info | No | No |
| Workers | `workers.php` | Team info | No | No |
| Socials | `socials.php` | Social links | No | No |
| Prices | `prices.php` | View products | No | READ |
| Contact | `contact.php` | Send message | No | No |
| Handler | `contact_form_handler.php` | Process contact | No | WRITE |
| Buy Now | `buy-now.php` | Shop hub | No | No |
| Order | `order.php` | Place order | **YES** | READ/WRITE |
| Delivery | `delivery.php` | Checkout | No | READ |
| Calculator | `calculator.php` | Price calculator | No | No |
| Balance | `balance.php` | My account | **YES** | READ |

---

## üîë Key Code Snippets

### Check if User Logged In
```php
$authUser = isset($_SESSION['authUser']) ? $_SESSION['authUser'] : null;

if (!$authUser) {
    header('Location: login.php');
    exit;
}
```

### Display User Initials
```php
<?php echo htmlspecialchars(substr($authUser['username'] ?? 'US', 0, 2)); ?>
```

### Hide/Show Elements Based on Login
```php
<a href="login.php" <?php echo $authUser ? 'style="display:none;"' : ''; ?>>Login</a>
```

### Database Query Example
```php
$stmt = $pdo->prepare('SELECT * FROM products WHERE price < ?');
$stmt->execute([5.00]);
$products = $stmt->fetchAll(PDO::FETCH_ASSOC);
```

### Insert to Database
```php
$stmt = $pdo->prepare('INSERT INTO orders (user_id, total_amount, status) VALUES (?, ?, ?)');
$stmt->execute([$userId, $amount, 'pending']);
```

---

## üìä Database Quick Reference

### Products Table
```sql
SELECT * FROM products;
-- Shows: Pineapple, Strawberry, Grape, Cherry, Orange, Watermelon, Mango, Lemon, Coconut, Cola, Blue Raspberry, Small Packet, Large Packet
```

### Users Table
```sql
SELECT id, username, email FROM users;
-- Stores user accounts
```

### Orders Table
```sql
SELECT * FROM orders WHERE user_id = 1;
-- Shows all orders for user ID 1
```

### Account Balance Table
```sql
SELECT * FROM account_balance WHERE user_id = 1;
-- Shows total_spent, total_orders, balance
```

---

## üêõ Common Errors & Fixes

### Error: "Database connection failed"
**Fix:**
```php
// Check your credentials:
// 1. Verify MySQL is running
// 2. Check username/password are correct
// 3. Verify database name exists
mysql -u root -p -e "USE flavorful; SELECT 1;"
```

### Error: "Headers already sent"
**Fix:**
```php
// Move this to FIRST line of file:
<?php session_start(); ?>

// Remove any whitespace/content before it
```

### Error: "Call to undefined function password_hash()"
**Fix:**
```
# Ensure PHP has OpenSSL extension
# Check php.ini has: extension=openssl
```

### Error: "No database selected"
**Fix:**
```sql
-- Run this in MySQL:
CREATE DATABASE flavorful;
USE flavorful;
-- Then import schema
```

---

## üîç Testing Scenarios

### Test Registration
```
1. Go to register.php
2. Fill: username=testuser, email=test@example.com, phone=555-1234, password=Test123!
3. Click CREATE ACCOUNT
4. Should redirect to index.php (logged in)
5. Check: users table has new record
```

### Test Ordering
```
1. Login as any user
2. Go to order.php
3. Click + button on products
4. Check cart updates
5. Toggle delivery checkbox
6. Total should include $2.00
7. Click Confirm Order
8. Should see success popup
9. Check: orders table has new record
10. Check: order_items table has items
11. Check: account_balance updated
```

### Test Contact Form
```
1. Go to contact.php
2. Fill: name=Test, email=test@example.com, message=Hello
3. Click Send Message
4. Should see success message
5. Check: messages table has record
```

---

## üìã File Organization Tips

### Important Files to Keep
- `database_schema.sql` - Keep for backups
- `.htaccess` - Add for URL rewriting
- `config.php` - Store common variables

### Files to Create
```
config.php - Database connection config
```

**config.php Example:**
```php
<?php
define('DB_HOST', 'localhost');
define('DB_NAME', 'flavorful');
define('DB_USER', 'root');
define('DB_PASS', '');

try {
    $pdo = new PDO(
        "mysql:host=" . DB_HOST . ";dbname=" . DB_NAME,
        DB_USER,
        DB_PASS
    );
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch (PDOException $e) {
    die("Connection failed: " . $e->getMessage());
}
?>
```

Then in each file:
```php
<?php
session_start();
require 'config.php';
// Rest of code...
?>
```

---

## üé® Customization

### Change Brand Color
Find & Replace in all files:
```css
#f59e0b  ‚Üí  YourColor
```

### Change Company Name
Find & Replace:
```
Flavorful  ‚Üí  YourCompanyName
```

### Add New Products
```sql
INSERT INTO products (name, price, flavor, description, type) 
VALUES ('Mango Supreme', 0.75, 'Mango', 'Premium mango flavor', 'single');
```

### Add Admin User
```php
// In register.php, add before header redirect:
$adminStmt = $pdo->prepare('UPDATE users SET role = ? WHERE id = ?');
$adminStmt->execute(['admin', $pdo->lastInsertId()]);
```

---

## üö® Security Checklist

- [ ] Update database credentials (don't use defaults)
- [ ] Change 'root' MySQL user password
- [ ] Use HTTPS in production
- [ ] Set proper file permissions (644/755)
- [ ] Disable directory listing
- [ ] Add `.htaccess` protection
- [ ] Regular backups of database
- [ ] Monitor for suspicious activity
- [ ] Keep PHP updated
- [ ] Sanitize all user inputs

---

## üìû Support Info

### If something breaks:

1. **Check error log:**
   ```bash
   tail -f /var/log/php-errors.log
   ```

2. **Enable PHP errors:**
   ```php
   error_reporting(E_ALL);
   ini_set('display_errors', 1);
   ```

3. **Verify database:**
   ```bash
   mysql -u root -p -e "SHOW TABLES FROM flavorful;"
   ```

4. **Check session folder:**
   ```bash
   ls -la /var/lib/php/sessions/
   ```

5. **Clear browser cache:**
   - Press: `Ctrl + Shift + Delete`
   - Select: All time
   - Check: Cookies and Cached files

---

## üìà Performance Tips

### Optimize Database
```sql
-- Add indexes for faster queries:
ALTER TABLE orders ADD INDEX user_idx (user_id);
ALTER TABLE order_items ADD INDEX order_idx (order_id);
ALTER TABLE users ADD UNIQUE INDEX email_idx (email);
```

### Cache Products
```php
// Cache product list:
if (!isset($_SESSION['products_cache'])) {
    $stmt = $pdo->query('SELECT * FROM products');
    $_SESSION['products_cache'] = $stmt->fetchAll(PDO::FETCH_ASSOC);
}
$products = $_SESSION['products_cache'];
```

### Limit Database Queries
```php
// Instead of:
foreach ($orders as $order) {
    $items = $pdo->query("SELECT * FROM order_items WHERE order_id = " . $order['id']);
}

// Use JOIN:
$orders = $pdo->query("SELECT o.*, COUNT(oi.id) FROM orders o LEFT JOIN order_items oi ON o.id = oi.order_id");
```

---

## üéì Learning Resources

### PHP Documentation
- https://www.php.net/manual/
- PDO: https://www.php.net/manual/en/book.pdo.php

### MySQL Documentation
- https://dev.mysql.com/doc/
- Basics: https://www.mysql.com/

### Security Best Practices
- OWASP Top 10: https://owasp.org/www-project-top-ten/
- Password Security: https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html

---

## ‚úÖ Completion Checklist

- [x] All 14 PHP pages created
- [x] Database schema with 6 tables
- [x] User authentication system
- [x] Product catalog from database
- [x] Shopping cart functionality
- [x] Order management system
- [x] Contact form with storage
- [x] User dashboard/account page
- [x] Responsive design
- [x] Full CRUD operations
- [x] Security measures implemented
- [x] Documentation complete

---

## üéâ You're Ready!

**Your Flavorful website is ready to use!**

1. Setup database
2. Update credentials
3. Upload files
4. Visit your site
5. Start taking orders!

---

**Questions? Check the main README for more details.**

**Need help? Review the troubleshooting section above.**

**Ready to deploy? Follow the security checklist.**

---

*Last Updated: 2025*
*Version: 1.0 Complete*